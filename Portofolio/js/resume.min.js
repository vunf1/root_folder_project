!function(e){
  "use strict";
  e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){
    if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){
      var t=e(this.hash);
    if((t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length)
      return e("html, body").animate({scrollTop:t.offset().top},1e3,"easeInOutExpo"),!1}}),e(".js-scroll-trigger").click(function(){e(".navbar-collapse").collapse("hide")}),e("body").scrollspy({target:"#sideNav"})
}(jQuery);

 


$(".transLogo").click(function (event) {
  /*Evento para  clique da imagem da bandeira Portuguesa*/
        var name=event.target.id;
        loadPage(name);
      });


function loadPage(name){
  /*Carregamento da pagina dinamicamente consoante a lingua desejada*/
  alertify.maxLogItems(1);
  if(name==="pt"){alertify.log("A Carregar Língua Portuguesa");}
  if(name==="eng"){alertify.log("Loading English");}
  $.ajax({
                      url:"/public/"+name+".html",
                          method:"POST",
                          dataType:'text',
                          data:'',
                          success:function(data){
                            $(".caixa").html('');

                            if(name==="pt"){


                                $("#g_about").html("Sobre");
                                $("#g_experience").html("Experiência");
                                $("#g_education").html("Educação");
                                  $("#g_skills").html("Habilidades");
                                  $("#g_interests").html("Interesses");
                                  $("#g_awards").html("Certificações");
                                  $("#g_project").html("Projetos");

                                  alertify.logPosition("bottom right");
                                  alertify.success("Português Ativo");

                                  $(".caixa").html(data);


                            }
                            if(name==="eng"){
                                  $("#g_about").html("About");
                                  $("#g_experience").html("Experience");
                                  $("#g_education").html("Education");
                                  $("#g_skills").html("Skills");
                                  $("#g_interests").html("Interests");
                                  $("#g_awards").html("Certifications");
                                  $("#g_project").html("Projects");

                                alertify.logPosition("bottom right");
                                alertify.success("English Activated");
                                $(".caixa").html(data);

                              
                            }


                          },error: function(xhr, status, error) { alert('Search Error: '+ xhr.status+ ' - '+ error); },
                  });



}

$(".loadDiv").click(function (event) {
  /*Evento para  clique para direcionar para a div sem incorporar #somethin na route estragando certos ajax's requests*/
        
        var name=event.target.id;
        name=name.substring(2);
        $('html,body').animate({scrollTop: $("#"+name).offset().top},'slow');
 });

 $(document).ready(function () {

      $("#loading").css("display","none");
        
      loadPage("eng");
});
