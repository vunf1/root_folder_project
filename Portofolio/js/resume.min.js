!function(e){
  "use strict";
  e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){
    if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){
      var t=e(this.hash);
    if((t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length)
      return e("html, body").animate({scrollTop:t.offset().top},1e3,"easeInOutExpo"),!1}}),e(".js-scroll-trigger").click(function(){e(".navbar-collapse").collapse("hide")}),e("body").scrollspy({target:"#sideNav"})
}(jQuery);

 




$('[data-toggle="tooltip"]').tooltip();/*ativa tooltip cross-platform nos elementos que teem data-toggle="tooltip" + title */

 



$(".transLogo").click(function (event) {
  /*Evento para  clique da imagem da bandeira Portuguesa*/
        var name=event.target.id;
        loadPage(name);
      });


function loadPage(name){
  /*Carregamento da pagina dinamicamente consoante a lingua desejada*/
  alertify.maxLogItems(1);
  if(name==="pt"){alertify.log("A Carregar Língua Portuguesa");}
  if(name==="eng"){alertify.log("Loading English");}
  $.ajax({
                      url:"/"+name+".html",
                          method:"POST",
                          dataType:'text',
                          data:'',
                          success:function(data){
                            $(".caixa").html('');

                            if(name==="pt"){
                                  alertify.logPosition("bottom right");
                                  alertify.success("Português Ativo");

                            $(".caixa").html(data);


                            }
                            if(name==="eng"){

                                alertify.logPosition("bottom right");
                                alertify.success("English Activated");
                            $(".caixa").html(data);

                              
                            }


                          },error: function(xhr, status, error) { alert('Search Error: '+ xhr.status+ ' - '+ error); },
                  });



}

$(".loadDiv").click(function (event) {
  /*Evento para  clique para direcionar para a div sem incorporar #somethin na route estragando certos ajax's requests*/
        
        var name=event.target.id;
        name=name.substring(2);
        console.log(name);
        $('html,body').animate({scrollTop: $("#"+name).offset().top},'slow');
 });

 $(document).ready(function () {

      $("#loading").css("display","none");

      loadPage("eng");
      

});



$(document).on('click', '.panel div.clickable', function (e) {
    var $this = $(this); //Heading
    var $panel = $this.parent('.panel');
    var $panel_body = $panel.children('.panel-body');
    var $display = $panel_body.css('display');

    if ($display == 'block') {
        $panel_body.slideUp();
    } else if($display == 'none') {
        $panel_body.slideDown();
    }
});

$(document).ready(function(e){
    var $classy = '.panel.autocollapse';

    var $found = $($classy);
    $found.find('.panel-body').hide();
    $found.removeClass($classy);
});